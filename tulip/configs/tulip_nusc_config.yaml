# Example KITTI Configuration for TULIP LiDAR Upsampling
# This file shows how to configure TULIP for KITTI dataset

# Model selection and architecture
model_select: 'tulip_base'  # Use base TULIP model for KITTI
window_size: [2, 8]
patch_size: [1, 4]
pixel_shuffle: true  # improve
circular_padding: true  # improve
patch_unmerging: true  # improve
swin_v2: false


# Dataset configuration for KITTI
dataset_select: 'nuscenes'
img_size_low_res: [8, 1024]  # KITTI dimensions from bash script
img_size_high_res: [32, 1024]
in_chans: 1
data_path_low_res: './data/nuscenes/'
data_path_high_res: './data/nuscenes/'

# Data processing options
save_pcd: false  # Save PCD output for KITTI evaluation
log_transform: true  # improve
keep_close_scan: false
keep_far_scan: false

# Training configuration
batch_size: 16  # From bash script
epochs: 600
accum_iter: 1
weight_decay: 0.01  # From bash script
lr: 0.00075  # From bash script
blr: 0.001
min_lr: 0.0
warmup_epochs: 60  # From bash script

# Augmentation
roll: false

# Checkpoint and logging
output_dir: '/home/vault/iwnt/iwnt159h/tulip_base_4b8_rmax80'
log_dir: './output_dir'
save_frequency: 100
num_workers: 2
pin_mem: true

# Evaluation configuration
mc_drop: true  # Enable Monte Carlo dropout
num_mcdropout_iterations: 50
noise_threshold: 0.03
grid_size: 0.1

# Logging and monitoring
wandb_disabled: false
entity: 'orcun-msc'
project_name: 'upsample'
run_name: 'tulip_base_3b8_rmax80Fixed'

# Device configuration
device: 'cuda'
seed: 42
resume: ''
start_epoch: 0
distributed: true
world_size: 1
dist_on_itp: false
local_rank: -1
dist_url: 'env://'
gpu: 0